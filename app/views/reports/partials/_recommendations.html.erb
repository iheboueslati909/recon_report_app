<div class="page-break">
  <% recommendations = @report_data[:recommendations] || {} %>
  <% if recommendations.values.flatten.any? %>
    <div class="report-section">
      <h3 class="heading-md text-center">Recommendations</h3>

      <p class="text-base mb-4">
        Prioritized guidance based on reconnaissance findings. Grouped by severity for operational clarity.
      </p>

      <% {
        "Critical" => [recommendations[:critical], "text-critical"],
        "Important Recommendations" => [recommendations[:important], "text-medium"],
        "Best Practice Recommendations" => [recommendations[:best_practice], "text-low"]
      }.each do |severity, (items, style_class)| %>
        <%= render 'reports/partials/recommendation_section', 
            severity: severity, 
            items: items, 
            style_class: style_class if items&.any? %>
      <% end %>
    </div>
  <% end %>
</div>
