<div class="page-break">
<div class="report-section mt-auto">
<h3 class="heading-md text-center mb-3">Report Metadata</h3>

<div class="report-info-block">
  <p class="text-base">
    <strong class="text-title">Version:</strong> <%= @report_data.dig(:report_metadata, :report_version) || "N/A" %><br>
    <strong class="text-title">Generated By:</strong> <%= @report_data.dig(:report_metadata, :generated_by) || "N/A" %><br>
    <strong class="text-title">Generated At:</strong> <%= DateTime.parse(@report_data.dig(:report_metadata, :generated_at).to_s).strftime("%B %d, %Y at %I:%M %p") rescue "N/A" %>
  </p>
</div>
</div>
<div class="report-section">
  <h3 class="heading-md text-center">Executive Summary</h3>

  <% overview = @report_data.dig(:executive_summary, :overview) %>
  <% targets = @report_data.dig(:executive_summary, :targets_scope) %>
  <% highlights = @report_data.dig(:executive_summary, :high_level_findings) %>

  <% if overview.present? %>
    <p class="text-base mb-4 text-left">
      <strong class="text-title">Overview:</strong> 
      <span class="text-base mb-4"><%= overview %></span>
    </p>
  <% end %>

  <% if targets.present? %>
    <p class="text-base mb-4 text-left">
      <strong class="text-title">Scope:</strong> 
      <span class="text-base mb-4"><%= targets %></span>
    </p>
  <% end %>

  <%= render 'reports/partials/metric_boxes', highlights: highlights %>
</div>
</div>
